# ==========================================
# Collabry Backend - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ==========================================

# ============ ENVIRONMENT ============
NODE_ENV=development

# ============ SERVER ============
PORT=5000

# ============ DATABASE ============

# MongoDB Atlas connection string (production)
# Get your MongoDB URI from: https://cloud.mongodb.com
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://your-username:your-password@cluster0.xxxxx.mongodb.net/collabry?retryWrites=true&w=majority

# Local MongoDB (uncomment if using local instance)
# MONGODB_URI=mongodb://collabry:yourpassword@mongo:27017/collabry?authSource=admin

# ============ REDIS ============

# Redis URL for rate limiting and session management
# For local Docker: redis://redis:6379
# For Redis Cloud: redis://username:password@redis-endpoint:port
REDIS_URL=redis://localhost:6379

# ============ AI ENGINE ============

# AI Engine URL (internal Docker network uses service name)
# Local dev: http://localhost:8000
# Docker: http://ai-engine:8000
AI_ENGINE_URL=http://localhost:8000

# ============ CORS ============

# Allowed origins (comma-separated for multiple)
# Development: http://localhost:3000,http://localhost:3001
# Production: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ============ JWT SECRETS ============

# CRITICAL: Generate secure random secrets!
# Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# NEVER use the example values below in production!
JWT_ACCESS_SECRET=GENERATE_A_SECURE_RANDOM_64_CHAR_HEX_STRING_HERE
JWT_REFRESH_SECRET=GENERATE_A_DIFFERENT_SECURE_RANDOM_64_CHAR_HEX_STRING_HERE
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============ ENCRYPTION ============

# Master encryption key for BYOK (Bring Your Own Key) feature
# This encrypts user-provided API keys using AES-256-GCM
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Keep this secret and never change it or you'll lose access to encrypted data!
ENCRYPTION_MASTER_KEY=GENERATE_A_SECURE_64_CHAR_HEX_STRING_32_BYTES_HERE

# ============ EMAIL SERVICE ============

# Email Configuration (for password reset, notifications)
# Option 1: Gmail (recommended for development)
# Create app password: https://myaccount.google.com/apppasswords
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your_gmail_app_password
EMAIL_FROM=your-email@gmail.com
EMAIL_FROM_NAME=Collabry

# Option 2: Custom SMTP
# EMAIL_SERVICE=smtp
# EMAIL_HOST=smtp.your-provider.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=your-email@domain.com
# EMAIL_PASSWORD=your-password
# EMAIL_FROM=noreply@yourdomain.com
# EMAIL_FROM_NAME=Collabry

# Frontend URL (for email links)
FRONTEND_URL=http://localhost:3000

# ============ PAYMENT GATEWAY ============

# Razorpay Configuration
# Get credentials from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_razorpay_secret

# ============ AUTHENTICATION ============

# Google OAuth Configuration
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ============ JITSI MEET ============

# Jitsi Meet Configuration (Voice/Video Chat)
# 100% FREE - No API key needed! Uses public Jitsi servers
# Optional: Use custom Jitsi domain (default: meet.jit.si)
JITSI_DOMAIN=meet.jit.si

# Razorpay Configuration (Payment Gateway)
# Get your keys from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_test_your_key_id_here
RAZORPAY_KEY_SECRET=your_razorpay_secret_here
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret_here

backend